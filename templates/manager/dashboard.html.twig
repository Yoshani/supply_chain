{% extends 'base.html.twig' %}

{% block title %}Placed Orders{% endblock %}
{% block stylesheets %}
    {{ parent()  }}
    <link rel="stylesheet" type="text/css" href="../css/side_bar.css">
{% endblock %}
{% block body %}
    <div id="sidebar">
        <div class="toggle-btn" onclick="toggleSidebar()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <ul>
            <li><a href="{{ path('manager_dashboard') }}">Home</a></li>
            <li><a href="{{ path('product_index') }}">Product +</a></li>
            <li>Reports</li>
        </ul>
    </div>
    <div style="margin-left:5%">
        <h1>Placed Orders</h1>

        <table class="table">
            <thead>
            <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Products</th>
                <th>City</th>
                <th>Route</th>
                <th>Train Date</th>

            </tr>
            </thead>
            <tbody>

            {% for order in placed %}
                <tr>
                    <td class="order_id">{{ order.getId() }}</td>
                    <td>{{ order.getCustomer().getFirstName()~" "~ order.getCustomer().getLastName() }}</td>
                    <td>{% for product in order.getOrderProducts() %}
                        {{product.getProduct().getName()}}
                        {% endfor %}
                    </td>
                    <td>{{ order.getRoute().getStore().getCity()}}</td>
                    <td>{{ order.getRoute().getDecription()}}</td>
                    <td>

                        <form >
                            Train Date: <input type="date" name="TrainDate" id="TrainDate">
                            <button class="ajax">Submit</button>
    {#                        <div id="ajax-results">here comes the result</div>#}
                        </form>


                    </td>
                </tr>

            {% else %}
                <tr>
                    <td colspan="5">no records found</td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
        <br>
        <h1>On Store Orders</h1>

        <table class="table">
            <thead>
            <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Products</th>
                <th>City</th>
                <th>Route</th>
                <th>Schedule To Truck</th>

            </tr>
            </thead>
            <tbody>

            {% for order in on_store %}
                <tr>
                    <td class="order_id">{{ order.getId() }}</td>
                    <td>{{ order.getCustomer().getFirstName()~" "~ order.getCustomer().getLastName() }}</td>
                    <td>{% for product in order.getOrderProducts() %}
                            {{product.getProduct().getName()}}
                        {% endfor %}
                    </td>
                    <td>{{ order.getRoute().getStore().getCity()}}</td>
                    <td>{{ order.getRoute().getDecription()}}</td>
                    <td>
                        <form >
                            <input type='checkbox' name='on_truck' value='on_truck'>On Truck
                        </form>


                    </td>
                </tr>

            {% else %}
                <tr>
                    <td colspan="5">no records found</td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>


{% endblock %}

{% block javascripts %}
    {{ parent()  }}
    <script src="../js/button.js"></script>
    <script src="../js/side_bar.js"></script>
{% endblock %}



